{
  "case_id": "plan_mismatch_14",
  "category": "plan_mismatch",
  "difficulty": "medium",
  "expected_detection": true,
  "bug_description": "includes(:orders) は全注文を読み込むが、必要なのは最新1件のみ。with_latest_order スコープを使用すべき。また orders.first は N+1 ではないが非効率。",
  "bug_location": "impl.rb:7",
  "correct_implementation": "User.active.with_associations",
  "tags": ["preload", "includes", "scope", "n_plus_one"],
  "notes": "既存スコープを使わずに独自実装してしまった例。仕様で指定されたスコープを確認すれば正しい実装がわかる。"
}
