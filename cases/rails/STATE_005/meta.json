{
  "case_id": "STATE_005",
  "category": "state",
  "axis": "spec_alignment",
  "name": "partial_cancel_integrity",
  "difficulty": "medium",
  "expected_detection": true,
  "bug_description": "Total amount wrong after partial item cancellation",
  "bug_anchor": "partial_cancel without recalculation",
  "correct_implementation": "recalculate_total after partial_cancel",
  "severity": "high",
  "tags": [
    "state",
    "cancellation",
    "calculation"
  ],
  "bug_anchor_verified": false,
  "evaluation_mode": "semantic",
  "has_expected_critique": true,
  "must_find": [
    {
      "id": "state_005_main",
      "category": "state_management",
      "keywords": [
        "partial_cancel",
        "without",
        "recalculation",
        "Total",
        "amount",
        "wrong",
        "after",
        "partial"
      ],
      "severity_expected": "major",
      "description": "Total amount wrong after partial item cancellation",
      "required": true
    }
  ]
}
